{{ define "main" }}
<article class="page talks-page">
  <div class="container">
    <h1>{{ .Title }}</h1>
    {{ .Content }}

    {{ range .Site.Data.talks }}
    <section class="talks-year">
      <h2>{{ .year }}</h2>
      {{ range sort .events "date" "desc" }}
      <div class="talk-entry {{ if .field_trip }}field-trip{{ end }}">
        <p class="talk-date">{{ if .date }}{{ time.Format "Jan 2" .date }}{{ end }}</p>
        {{ if .field_trip }}
        <p><strong>Summer Trip:</strong> {{ .field_trip }}</p>
        {{ else if .talks }}
        {{ range .talks }}
        <p>
          {{ if .speaker }}<span class="talk-speaker">{{ .speaker }}</span> â€” {{ end }}
          <span class="talk-topic">{{ .title }}</span>
        </p>
        {{ end }}
        {{ end }}
        {{ if .note }}
        <p class="event-note"><em>{{ .note }}</em></p>
        {{ end }}
      </div>
      {{ end }}
    </section>
    {{ end }}
  </div>
</article>
{{ end }}
